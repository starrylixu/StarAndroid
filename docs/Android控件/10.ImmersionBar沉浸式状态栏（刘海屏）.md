# ğŸ€ã€Androidå¼€æºæ§ä»¶ã€‘ImmersionBaræ²‰æµ¸å¼çŠ¶æ€æ ï¼ˆåˆ˜æµ·å±ï¼‰

æ³¨æ„ï¼šä¸æ˜¯æ•™ç¨‹åªæ˜¯ç¬”è®°ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æ‰¹è¯„æŒ‡æ­£

# ğŸŒ¾å®˜æ–¹ç®€ä»‹

[gyf-dev/ImmersionBar: android 4.4ä»¥ä¸Šæ²‰æµ¸å¼çŠ¶æ€æ å’Œæ²‰æµ¸å¼å¯¼èˆªæ ç®¡ç†](https://github.com/gyf-dev/ImmersionBar)

[ImmersionBar: android 4.4ä»¥ä¸Šæ²‰æµ¸å¼çŠ¶æ€æ å’Œæ²‰æµ¸å¼å¯¼èˆªæ ç®¡ç†](https://gitee.com/24680/ImmersionBar#immersionbar----android-44%E4%BB%A5%E4%B8%8A%E6%B2%89%E6%B5%B8%E5%BC%8F%E5%AE%9E%E7%8E%B0)

`android 4.4`ä»¥ä¸Šæ²‰æµ¸å¼çŠ¶æ€æ å’Œæ²‰æµ¸å¼å¯¼èˆªæ ç®¡ç†ï¼Œé€‚é…æ¨ªç«–å±åˆ‡æ¢ã€åˆ˜æµ·å±ã€è½¯é”®ç›˜å¼¹å‡ºç­‰é—®é¢˜ï¼Œå¯ä»¥ä¿®æ”¹çŠ¶æ€æ å­—ä½“é¢œè‰²å’Œå¯¼èˆªæ å›¾æ ‡é¢œè‰²ï¼Œä»¥åŠä¸å¯ä¿®æ”¹å­—ä½“é¢œè‰²æ‰‹æœºçš„é€‚é…ï¼Œé€‚ç”¨äºActivityã€Fragmentã€DialogFragmentã€Dialogï¼ŒPopupWindowï¼Œä¸€å¥ä»£ç è½»æ¾å®ç°ï¼Œä»¥åŠå¯¹barçš„å…¶ä»–è®¾ç½®

# ğŸŒ¼æ·»åŠ ä¾èµ–

```java
// åŸºç¡€ä¾èµ–åŒ…ï¼Œå¿…é¡»è¦ä¾èµ–
implementation 'com.geyifeng.immersionbar:immersionbar:3.2.2'
// kotlinæ‰©å±•ï¼ˆå¯é€‰ï¼‰
implementation 'com.geyifeng.immersionbar:immersionbar-ktx:3.2.2'
// fragmentå¿«é€Ÿå®ç°ï¼ˆå¯é€‰ï¼‰å·²åºŸå¼ƒ
implementation 'com.geyifeng.immersionbar:immersionbar-components:3.2.2'
```

![](https://gitee.com/starry_lixu/picture/raw/master/20220427224941.png#id=BQj4s&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

# ğŸä¿®æ”¹themes.xml

![](https://gitee.com/starry_lixu/picture/raw/master/20220427230225.png#id=owtbF&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

åœ¨themes.xmlæ–‡ä»¶ä¸‹ä¿®æ”¹NoActionBar

![](https://gitee.com/starry_lixu/picture/raw/master/20220427225824.png#id=YKOZB&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

åœ¨`MainActivity`ä¸­ä½¿ç”¨`ImmersionBar`

```java
//todo
ImmersionBar.with(this)
	.init();
```

![](https://gitee.com/starry_lixu/picture/raw/master/20220427230453.png#id=kptYD&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

# ğŸŒ³æ•ˆæœæ¼”ç¤º

![](https://gitee.com/starry_lixu/picture/raw/master/20220427230607.png#id=C8eGt&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

# ğŸŒºApiè¯¦è§£

## åŸºç¡€ç”¨æ³•

```java
ImmersionBar.with(this).init();
```

## é«˜çº§ç”¨æ³•(æ¯ä¸ªå‚æ•°çš„æ„ä¹‰)

```java
 ImmersionBar.with(this)
     .transparentStatusBar()  //é€æ˜çŠ¶æ€æ ï¼Œä¸å†™é»˜è®¤é€æ˜è‰²
     .transparentNavigationBar()  //é€æ˜å¯¼èˆªæ ï¼Œä¸å†™é»˜è®¤é»‘è‰²(è®¾ç½®æ­¤æ–¹æ³•ï¼ŒfullScreen()æ–¹æ³•è‡ªåŠ¨ä¸ºtrue)
     .transparentBar()             //é€æ˜çŠ¶æ€æ å’Œå¯¼èˆªæ ï¼Œä¸å†™é»˜è®¤çŠ¶æ€æ ä¸ºé€æ˜è‰²ï¼Œå¯¼èˆªæ ä¸ºé»‘è‰²ï¼ˆè®¾ç½®æ­¤æ–¹æ³•ï¼ŒfullScreen()æ–¹æ³•è‡ªåŠ¨ä¸ºtrueï¼‰
     .statusBarColor(R.color.colorPrimary)     //çŠ¶æ€æ é¢œè‰²ï¼Œä¸å†™é»˜è®¤é€æ˜è‰²
     .navigationBarColor(R.color.colorPrimary) //å¯¼èˆªæ é¢œè‰²ï¼Œä¸å†™é»˜è®¤é»‘è‰²
     .barColor(R.color.colorPrimary)  //åŒæ—¶è‡ªå®šä¹‰çŠ¶æ€æ å’Œå¯¼èˆªæ é¢œè‰²ï¼Œä¸å†™é»˜è®¤çŠ¶æ€æ ä¸ºé€æ˜è‰²ï¼Œå¯¼èˆªæ ä¸ºé»‘è‰²
     .statusBarAlpha(0.3f)  //çŠ¶æ€æ é€æ˜åº¦ï¼Œä¸å†™é»˜è®¤0.0f
     .navigationBarAlpha(0.4f)  //å¯¼èˆªæ é€æ˜åº¦ï¼Œä¸å†™é»˜è®¤0.0F
     .barAlpha(0.3f)  //çŠ¶æ€æ å’Œå¯¼èˆªæ é€æ˜åº¦ï¼Œä¸å†™é»˜è®¤0.0f
     .statusBarDarkFont(true)   //çŠ¶æ€æ å­—ä½“æ˜¯æ·±è‰²ï¼Œä¸å†™é»˜è®¤ä¸ºäº®è‰²
     .navigationBarDarkIcon(true) //å¯¼èˆªæ å›¾æ ‡æ˜¯æ·±è‰²ï¼Œä¸å†™é»˜è®¤ä¸ºäº®è‰²
     .autoDarkModeEnable(true) //è‡ªåŠ¨çŠ¶æ€æ å­—ä½“å’Œå¯¼èˆªæ å›¾æ ‡å˜è‰²ï¼Œå¿…é¡»æŒ‡å®šçŠ¶æ€æ é¢œè‰²å’Œå¯¼èˆªæ é¢œè‰²æ‰å¯ä»¥è‡ªåŠ¨å˜è‰²å“¦
     .autoStatusBarDarkModeEnable(true,0.2f) //è‡ªåŠ¨çŠ¶æ€æ å­—ä½“å˜è‰²ï¼Œå¿…é¡»æŒ‡å®šçŠ¶æ€æ é¢œè‰²æ‰å¯ä»¥è‡ªåŠ¨å˜è‰²å“¦
     .autoNavigationBarDarkModeEnable(true,0.2f) //è‡ªåŠ¨å¯¼èˆªæ å›¾æ ‡å˜è‰²ï¼Œå¿…é¡»æŒ‡å®šå¯¼èˆªæ é¢œè‰²æ‰å¯ä»¥è‡ªåŠ¨å˜è‰²å“¦
     .flymeOSStatusBarFontColor(R.color.btn3)  //ä¿®æ”¹flyme OSçŠ¶æ€æ å­—ä½“é¢œè‰²
     .fullScreen(true)      //æœ‰å¯¼èˆªæ çš„æƒ…å†µä¸‹ï¼Œactivityå…¨å±æ˜¾ç¤ºï¼Œä¹Ÿå°±æ˜¯activityæœ€ä¸‹é¢è¢«å¯¼èˆªæ è¦†ç›–ï¼Œä¸å†™é»˜è®¤éå…¨å±
     .hideBar(BarHide.FLAG_HIDE_BAR)  //éšè—çŠ¶æ€æ æˆ–å¯¼èˆªæ æˆ–ä¸¤è€…ï¼Œä¸å†™é»˜è®¤ä¸éšè—
     .addViewSupportTransformColor(toolbar)  //è®¾ç½®æ”¯æŒviewå˜è‰²ï¼Œå¯ä»¥æ·»åŠ å¤šä¸ªviewï¼Œä¸æŒ‡å®šé¢œè‰²ï¼Œé»˜è®¤å’ŒçŠ¶æ€æ åŒè‰²ï¼Œè¿˜æœ‰ä¸¤ä¸ªé‡è½½æ–¹æ³•
     .titleBar(view)    //è§£å†³çŠ¶æ€æ å’Œå¸ƒå±€é‡å é—®é¢˜ï¼Œä»»é€‰å…¶ä¸€
     .titleBarMarginTop(view)     //è§£å†³çŠ¶æ€æ å’Œå¸ƒå±€é‡å é—®é¢˜ï¼Œä»»é€‰å…¶ä¸€
     .statusBarView(view)  //è§£å†³çŠ¶æ€æ å’Œå¸ƒå±€é‡å é—®é¢˜ï¼Œä»»é€‰å…¶ä¸€
     .fitsSystemWindows(true)    //è§£å†³çŠ¶æ€æ å’Œå¸ƒå±€é‡å é—®é¢˜ï¼Œä»»é€‰å…¶ä¸€ï¼Œé»˜è®¤ä¸ºfalseï¼Œå½“ä¸ºtrueæ—¶ä¸€å®šè¦æŒ‡å®šstatusBarColor()ï¼Œä¸ç„¶çŠ¶æ€æ ä¸ºé€æ˜è‰²ï¼Œè¿˜æœ‰ä¸€äº›é‡è½½æ–¹æ³•
     .supportActionBar(true) //æ”¯æŒActionBarä½¿ç”¨
     .statusBarColorTransform(R.color.orange)  //çŠ¶æ€æ å˜è‰²åçš„é¢œè‰²
     .navigationBarColorTransform(R.color.orange) //å¯¼èˆªæ å˜è‰²åçš„é¢œè‰²
     .barColorTransform(R.color.orange)  //çŠ¶æ€æ å’Œå¯¼èˆªæ å˜è‰²åçš„é¢œè‰²
     .removeSupportView(toolbar)  //ç§»é™¤æŒ‡å®šviewæ”¯æŒ
     .removeSupportAllView() //ç§»é™¤å…¨éƒ¨viewæ”¯æŒ
     .navigationBarEnable(true)   //æ˜¯å¦å¯ä»¥ä¿®æ”¹å¯¼èˆªæ é¢œè‰²ï¼Œé»˜è®¤ä¸ºtrue
     .navigationBarWithKitkatEnable(true)  //æ˜¯å¦å¯ä»¥ä¿®æ”¹å®‰å“4.4å’Œemui3.xæ‰‹æœºå¯¼èˆªæ é¢œè‰²ï¼Œé»˜è®¤ä¸ºtrue
     .navigationBarWithEMUI3Enable(true) //æ˜¯å¦å¯ä»¥ä¿®æ”¹emui3.xæ‰‹æœºå¯¼èˆªæ é¢œè‰²ï¼Œé»˜è®¤ä¸ºtrue
     .keyboardEnable(true)  //è§£å†³è½¯é”®ç›˜ä¸åº•éƒ¨è¾“å…¥æ¡†å†²çªé—®é¢˜ï¼Œé»˜è®¤ä¸ºfalseï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è½½æ–¹æ³•ï¼Œå¯ä»¥æŒ‡å®šè½¯é”®ç›˜mode
     .keyboardMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE)  //å•ç‹¬æŒ‡å®šè½¯é”®ç›˜æ¨¡å¼
     .setOnKeyboardListener(new OnKeyboardListener() {    //è½¯é”®ç›˜ç›‘å¬å›è°ƒï¼ŒkeyboardEnableä¸ºtrueæ‰ä¼šå›è°ƒæ­¤æ–¹æ³•
         @Override
         public void onKeyboardChange(boolean isPopup, int keyboardHeight) {
             LogUtils.e(isPopup);  //isPopupä¸ºtrueï¼Œè½¯é”®ç›˜å¼¹å‡ºï¼Œä¸ºfalseï¼Œè½¯é”®ç›˜å…³é—­
         }
     })
     .setOnNavigationBarListener(onNavigationBarListener) //å¯¼èˆªæ æ˜¾ç¤ºéšè—ç›‘å¬ï¼Œç›®å‰åªæ”¯æŒåä¸ºå’Œå°ç±³æ‰‹æœº
     .setOnBarListener(OnBarListener) //ç¬¬ä¸€æ¬¡è°ƒç”¨å’Œæ¨ªç«–å±åˆ‡æ¢éƒ½ä¼šè§¦å‘ï¼Œå¯ä»¥ç”¨æ¥åšåˆ˜æµ·å±é®æŒ¡å¸ƒå±€æ§ä»¶çš„é—®é¢˜
     .addTag("tag")  //ç»™ä»¥ä¸Šè®¾ç½®çš„å‚æ•°æ‰“æ ‡è®°
     .getTag("tag")  //æ ¹æ®tagè·å¾—æ²‰æµ¸å¼å‚æ•°
     .reset()  //é‡ç½®æ‰€ä»¥æ²‰æµ¸å¼å‚æ•°
     .init();  //å¿…é¡»è°ƒç”¨æ–¹å¯åº”ç”¨ä»¥ä¸Šæ‰€é…ç½®çš„å‚æ•°
```

## åœ¨Activityä¸­å®ç°æ²‰æµ¸å¼

```java
 ImmersionBar.with(this).init();
```

# ğŸ€å¡ç‰‡æ§ä»¶MaterialCardView

[MaterialCardView Â | Android Developers (google.cn)](https://developer.android.google.cn/reference/com/google/android/material/card/MaterialCardView?hl=ko#summary)

åœ¨activity_main.xmlä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å…³é”®è¯ç›´æ¥æ·»åŠ MaterialCardViewæ§ä»¶

![](https://gitee.com/starry_lixu/picture/raw/master/20220428194640.png#id=yUTnr&originHeight=1032&originWidth=1920&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

åœ¨ä½¿ç”¨`MaterialCardView`æ§ä»¶æ—¶ï¼Œæˆ‘ä»¬å¹¶ä¸æ˜¯ç›´æ¥åœ¨å…¶ä¸­æ·»åŠ åŸºæœ¬æ§ä»¶ï¼Œè€Œæ˜¯å…ˆåµŒå¥—ä¸€å±‚å¸ƒå±€ï¼Œå†åœ¨å¸ƒå±€ä¸­æ·»åŠ æ§ä»¶ï¼Œå¦‚ä¸‹ä»£ç ï¼š

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">

    <com.google.android.material.card.MaterialCardView
        android:layout_width="180dp"
        android:layout_height="220dp"
        android:layout_marginTop="96dp"
        app:layout_constraintHorizontal_bias="0.497"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintRight_toRightOf="parent"
        app:layout_constraintTop_toTopOf="parent"

        app:cardElevation="20dp"
        app:cardBackgroundColor="#18A598"
        app:contentPadding="5dp"
        app:cardCornerRadius="10dp"
        app:cardMaxElevation="100dp"
        android:clickable="true"
        android:focusable="true"
        app:rippleColor="#9FD3A2">

        <androidx.constraintlayout.widget.ConstraintLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent">


            <ImageView
                android:id="@+id/imageView"
                android:layout_width="180dp"
                android:layout_height="180dp"
                app:layout_constraintBottom_toBottomOf="parent"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintHorizontal_bias="0.0"
                app:layout_constraintStart_toStartOf="parent"
                app:layout_constraintTop_toTopOf="parent"
                app:layout_constraintVertical_bias="0.0"
                app:srcCompat="@drawable/wendi" />

            <TextView
                android:id="@+id/textView"
                android:layout_width="match_parent"
                android:layout_height="40dp"
                android:text="æ¸©è¿ª"
                android:textAlignment="center"
                android:textColor="@color/black"
                android:textSize="25sp"
                app:layout_constraintEnd_toEndOf="parent"
                app:layout_constraintTop_toBottomOf="@+id/imageView" />
        </androidx.constraintlayout.widget.ConstraintLayout>
    </com.google.android.material.card.MaterialCardView>

</androidx.constraintlayout.widget.ConstraintLayout>
```

# å¸¸ç”¨å±æ€§
å…¶ä¸­`MaterialCardView`æœ‰å¾ˆå¤šé‡è¦çš„å±æ€§å¦‚ä¸‹ï¼š

```xml
 <com.google.android.material.card.MaterialCardView
        app:cardElevation="20dp"  è®¾ç½®zè½´é«˜åº¦,æ¥æ§åˆ¶é˜´å½±çš„å¤§å°
        app:cardBackgroundColor="#18A598"	è®¾ç½®CardViewèƒŒæ™¯è‰²
        app:contentPadding="5dp"	è®¾ç½®å†…è¾¹è·
        app:cardCornerRadius="10dp"	è®¾ç½®CardViewçš„åœ†è§’åŠå¾„
        app:cardMaxElevation="100dp"	è®¾ç½®æœ€å¤§zè½´é«˜åº¦
        android:clickable="true"	  æ˜¯å¦å¯ç‚¹å‡»
        android:focusable="true"	æ˜¯å¦è·å–ç„¦ç‚¹
        app:rippleColor="#9FD3A2"	ç‚¹å‡»é˜´å½±ç‰¹æ•ˆçš„é¢œè‰²>	 
</com.google.android.material.card.MaterialCardView>
```

![](https://gitee.com/starry_lixu/picture/raw/master/20220428200009.gif#id=ieVtr&originHeight=1030&originWidth=1916&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)
