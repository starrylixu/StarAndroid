```groovy
/**
 * 用于实时书写的线程
 */
private static class SendThread extends Thread {
    private final Object lock = new Object();

    private final String mac;
    private final CanvasDrawView canvasDrawView;
    private int page = -1;
    private final Handler handler;

    public SendThread(String mac, CanvasDrawView canvasDrawView, Handler handler) {
        this.mac = mac;
        this.canvasDrawView = canvasDrawView;
        this.handler = handler;
    }

    void resumeThread() {
        synchronized (lock) {
            lock.notify();
        }
    }

    void onPause() {
        synchronized (lock) {
            try {
                lock.wait();
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
    }

    @Override
    public void run() {
        while (true) {
            while (!nqDotQueue.isEmpty()) {
                NQDot nqDot = nqDotQueue.poll();
                LogUtils.d("本地SDK返回: type=" + nqDot.type + "， dot.x=" + nqDot.x + " dot.y=" + nqDot.y
                        + ", page=" + nqDot.page + "，bookNum=" + nqDot.bookNum
                        + ", Width=" + nqDot.book_width + ", Height=" + nqDot.book_height);

                    if (page == -1) {//第一次更新页面信息
                        page = nqDot.page;
                    } else {
                        if (page != nqDot.page) {//点阵笔迹携带的页面信息与界面展示的界面信息不一样
                            Message message = new Message();
                            page = nqDot.page;
                            message.what = 3;
                            message.arg1 = page;
                            handler.sendMessage(message);
                        }
                    }

                canvasDrawView.addDot(mac, nqDot);
            }
            onPause();
        }
    }
}
```
