## ã€Androidã€‘4.0Fragmentçš„ä½¿ç”¨

æ³¨æ„ï¼šä¸æ˜¯æ•™ç¨‹åªæ˜¯ç¬”è®°ï¼Œå¦‚æœ‰é”™è¯¯æ¬¢è¿æ‰¹è¯„æŒ‡æ­£

### ğŸç®€ä»‹

`[Fragment](https://developer.android.google.cn/reference/androidx/fragment/app/Fragment?hl=zh-cn)` è¡¨ç¤ºåº”ç”¨ç•Œé¢ä¸­**å¯é‡å¤ä½¿ç”¨**çš„ä¸€éƒ¨åˆ†ã€‚`Fragment` å®šä¹‰å’Œç®¡ç†è‡ªå·±çš„å¸ƒå±€ï¼Œå…·æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä¸”å¯ä»¥å¤„ç†è‡ªå·±çš„è¾“å…¥äº‹ä»¶ã€‚`Fragment` ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œè€Œæ˜¯å¿…é¡»ç”± `Activity` æˆ–å¦ä¸€ä¸ª `Fragment` æ‰˜ç®¡ã€‚`Fragment` çš„è§†å›¾å±‚æ¬¡ç»“æ„ä¼šæˆä¸ºå®¿ä¸»çš„è§†å›¾å±‚æ¬¡ç»“æ„çš„ä¸€éƒ¨åˆ†ï¼Œæˆ–é™„åŠ åˆ°å®¿ä¸»çš„è§†å›¾å±‚æ¬¡ç»“æ„ã€‚

æ€ä¹ˆç†è§£`fragment`å‘¢ï¼Ÿé¦–å…ˆè°ˆè°ˆå®ƒçš„è¯ç”ŸåŸå› ï¼Œå¹³æ¿ç”µè„‘çš„é£é¡è®©ç•Œé¢ä¹‹é—´çš„è·³è½¬å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸åŒç•Œé¢é—´å·¦ä¾§åˆ—è¡¨çš„å†…å®¹æ˜¯ç›¸åŒçš„ï¼Œéœ€è¦åˆ·æ–°çš„ä»…ä»…æ˜¯å†…å®¹é¢æ¿ï¼Œå¦‚æœæ¯ä¸€ä¸ªåˆ—è¡¨éƒ½é‡åšä¸€ä¸ª`Activity`ï¼Œè¿™ç§é‡å¤çš„å·¥ä½œï¼Œå¾ˆæ˜æ˜¾æ˜¯æµªè´¹å¼€å‘æ—¶é—´å’Œç¨‹åºèµ„æºçš„ã€‚å› æ­¤`Android3.0`ç‰ˆæœ¬å°±å¼•å…¥äº†`Fragment`ï¼Œå°†ä¸€ä¸ªç•Œé¢æ¨¡å—åŒ–ï¼ˆç¦»æ•£åŒ–ï¼‰ï¼Œæ•´ä¸ªåœºæ™¯ä½¿ç”¨ä¸€ä¸ª`Activity`ï¼Œç®¡ç†å¤šä¸ª`Fragment`ï¼Œå®ç°éƒ¨åˆ†åŒºåŸŸçš„å†…å®¹è·³è½¬ï¼ˆåˆ·æ–°ï¼‰ï¼ŒèŠ‚çœèµ„æº

å¾ˆå¿«ï¼Œéšç€æ‰‹æœºå±å¹•è¶Šåšè¶Šå¤§ï¼Œ`Android4.0`ç‰ˆæœ¬å°±æŠŠ`Fragment`ä¹Ÿè¿ç”¨åœ¨äº†æ‰‹æœºç«¯ï¼Œæ¯”å¦‚ç°åœ¨çš„qqï¼Œå¾®ä¿¡çš„èŠå¤©ç•Œé¢çš„åº•éƒ¨èœå•å°±æ˜¯ç”±ä¸€ä¸ª`Activity`æ§åˆ¶ï¼Œè€Œå„ä¸ªèœå•é‡Œçš„å†…å®¹ç”±`Fragment`æ§åˆ¶ï¼ŒåŒæ—¶è¿™äº›`Fragment`ä¹Ÿç”±è¿™ä¸ª`Activity`æ‰˜ç®¡

![image-20240825202244444](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252022615.png)

### ğŸŒ³åˆ›å»ºä¸€ä¸ªFragment

é¦–å…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—ï¼Œæˆ‘å°†å…¶å‘½åä¸ºfragmentï¼Œé€‰æ‹©Empty Activity

![image-20240825202612243](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252026357.png)

åˆ›å»ºä¸€ä¸ª`Fragment`çš„æ–¹æ³•ä¸åˆ›å»ºä¸€ä¸ª`Activity`çš„æ–¹æ³•ç±»ä¼¼ï¼Œæˆ‘å°†å…¶å‘½åä¸ºBlankFragment1

![image-20240825202628838](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252026086.png)

åˆ›å»ºå¥½åï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬å¤šäº†ä¸€ä¸ª`Fragment`æ–‡ä»¶å’Œä¸€ä¸ªå¯¹åº”çš„`xml`æ–‡ä»¶ï¼Œæ‰€ä»¥è¯´`Fragment`æ˜¯ä¸€ä¸ªå¾®å‹`Activity`æ˜¯ä¸è¿‡åˆ†çš„

![image-20240825202747094](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252027345.png)

è‡ªåŠ¨ç”Ÿæˆçš„`Fragment`æ–‡ä»¶æœ‰å¾ˆå¤šçš„æ–¹æ³•ï¼Œè¿™é‡Œåªç”¨åˆ°`onCreateView()`æ–¹æ³•ï¼Œæ‰€ä»¥å…ˆå°†å…¶ä»–æ–¹æ³•åˆ çš„å¹²å¹²å‡€å‡€ï¼Œæ³¨é‡Šä¹Ÿåˆ æ‰ï¼Œè¿™å°±ç®—æˆåŠŸåˆ›å»ºäº†ä¸€ä¸ªFragment

```java
@Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        return inflater.inflate(R.layout.fragment_blank1, container, false);
    }
```

!![image-20240825202804984](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252028813.png)

### ğŸŒºFragmentçš„ä½¿ç”¨(åŠ¨æ€æ·»åŠ )

å¼€ç¯‡ç®€ä»‹æåˆ°`**Fragment**`** ä¸èƒ½ç‹¬ç«‹å­˜åœ¨ï¼Œè€Œæ˜¯å¿…é¡»ç”± **`**Activity**`** æˆ–å¦ä¸€ä¸ª **`**Fragment**`** æ‰˜ç®¡ã€‚**å¯è§`Fragment`å¿…é¡»åœ¨`Activity`ä¸­ä½¿ç”¨ï¼ŒåŸç†å¾ˆç®€å•ï¼Œåœ¨`Activity`çš„å¸ƒå±€é‡Œå†æ”¾ä¸€ä¸ªå¸ƒå±€æ¥å®‰ç½®`Fragment`ï¼Œï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä¸æ”¾å¸ƒå±€ç›´æ¥æ·»åŠ ä¸€ä¸ª`Fragment`ï¼Œè¿™å±äºé™æ€æ·»åŠ `Fragment`ï¼‰é‚£ä¹ˆ`Fragment`å°±æˆä¸ºäº†`Activity`çš„ä¸€éƒ¨åˆ†ï¼Œé€šè¿‡ä¸åŒçš„æŒ‰é’®ç›‘å¬å°†ä¸åŒçš„`Fragment`çš„å¸ƒå±€è®¾ç½®åˆ°è¿™ä¸ªå¸ƒå±€ä¸­ï¼Œå°±å®ç°äº†åŠ¨æ€çš„æ·»åŠ `Fragment`å•¦

é‚£ä¹ˆæ¥ç†ä¸€ç†æ€è·¯ï¼š

1.  é¦–å…ˆæˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ª`Fragment`å‘½åä¸º`BlankFragment2` 
2.  åœ¨`Activity`çš„å¸ƒå±€æ–‡ä»¶ä¸­åµŒå¥—çš„åˆ›å»ºä¸€ä¸ªçº¦æŸå¸ƒå±€ï¼Œå¹¶è®¾ç½®å¥½idï¼Œç”¨äºæ”¾ç½®`Fragment` 
3.  åœ¨`Activity`çš„å¸ƒå±€æ–‡ä»¶ä¸­åˆ›å»ºä¸¤ä¸ªæŒ‰é’®ï¼Œç”¨äºåˆ‡æ¢ä¸¤ä¸ª`Fragment` 

![image-20240825202826806](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252028567.png)

`Activity_main.xml`å…³é”®ä»£ç 

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">

    <androidx.constraintlayout.widget.ConstraintLayout
        android:id="@+id/constraintLayout"
        android:layout_width="match_parent"
        android:layout_height="300dp"
        app:layout_constraintLeft_toLeftOf="parent"
        app:layout_constraintTop_toTopOf="parent"></androidx.constraintlayout.widget.ConstraintLayout>

    <Button
        android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="172dp"
        android:text="Fragment1"
        app:layout_constraintEnd_toStartOf="@+id/button2"
        app:layout_constraintHorizontal_bias="0.5"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toBottomOf="@+id/constraintLayout" />

    <Button
        android:id="@+id/button2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Fragment2"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintHorizontal_bias="0.5"
        app:layout_constraintStart_toEndOf="@+id/button"
        app:layout_constraintTop_toTopOf="@+id/button" />


</androidx.constraintlayout.widget.ConstraintLayout>
```

![image-20240825202842631](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252028308.png)

ç„¶ååœ¨ä¸¤ä¸ª`Fragment`çš„å¸ƒå±€é‡Œå†™ä¸€äº›ä¸œè¥¿åŒºåˆ†ä¸¤ä¸ª`Fragment`ï¼Œå¯ä»¥çœ‹åˆ°`Fragment`çš„å¸ƒå±€é»˜è®¤æ˜¯å¸§å¸ƒå±€ï¼Œä¸å¤ªä¼šç”¨ï¼Œæˆ‘æ”¹æˆçº¦æŸå¸ƒå±€

![image-20240825202856778](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252028399.png)

`fragment_blank1.xml`å…³é”®ä»£ç 

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".BlankFragment1">

    <!-- TODO: Update blank fragment layout -->


    <TextView
        android:id="@+id/textView"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="204dp"
        android:text="Fragment1"
        android:textSize="30sp"
        android:textColor="@color/black"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

![image-20240825202912982](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252029675.png)

`fragment_blank2.xml`å…³é”®ä»£ç 

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".BlankFragment2">

    <!-- TODO: Update blank fragment layout -->


    <TextView
        android:id="@+id/textView2"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:layout_marginTop="251dp"
        android:text="Fragment2"
        android:textColor="@color/black"
        android:textSize="30sp"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />
</androidx.constraintlayout.widget.ConstraintLayout>
```

![image-20240825202926450](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252029275.png)

### ğŸŒ²åœ¨Activityä¸­æ‰˜ç®¡

åœ¨`Activity`ä¸­è¦æ‰˜ç®¡`Fragment`ï¼Œå°±éœ€è¦è·å–åˆ°è¿™ä¸¤ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸”è¿˜è¦æ”¾ç½®åˆ°çº¦æŸå¸ƒå±€ä¸­

`MainActivity`å…³é”®ä»£ç å¦‚ä¸‹

```java

public class MainActivity extends AppCompatActivity {

    BlankFragment1 blankFragment1=new BlankFragment1();
    BlankFragment2 blankFragment2=new BlankFragment2();
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        findViewById(R.id.button).setOnClickListener(
                (view)->{
                    getSupportFragmentManager().beginTransaction()
                            .replace(R.id.constraintLayout,blankFragment1).commit();
                }
        );
        findViewById(R.id.button2).setOnClickListener(
                (view)->{
                    getSupportFragmentManager().beginTransaction()
                            .replace(R.id.constraintLayout,blankFragment2).commit();
                }
        );
    }
}
```

å…¶ä¸­æœ‰ä¸€è¡Œå…³é”®çš„ä»£ç 

```java
getSupportFragmentManager().beginTransaction()
                            .replace(R.id.constraintLayout,blankFragment1).commit();
```

`replace`æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œå‰è€…æ˜¯ä¸€ä¸ªå¸ƒå±€ï¼Œåè€…æ˜¯ä¸€ä¸ª`fragment`å¯¹è±¡ï¼Œå®ç°å°†ä¸€ä¸ª`fragment`å¯¹è±¡æ”¾ç½®åˆ°å¸ƒå±€ä¸­æ˜¾ç¤ºï¼ˆå®é™…ä¸Šæ˜¯æ›¿æ¢ï¼Œå°†æ˜¾ç¤ºç»™ç”¨æˆ·çš„`fragment`æ›¿æ¢æ‰ï¼‰

å®ƒåšçš„æ“ä½œæ—¶å°†å·²æ·»åŠ çš„`fragment`å…¨éƒ¨éƒ½åˆ é™¤æ‰ï¼Œç„¶åå†åŠ è½½å½“å‰çš„`fragment`

![image-20240825202942576](https://starrylixu.oss-cn-beijing.aliyuncs.com/picgo/202408252029606.png)

![img](https://www.yuque.com/api/filetransfer/images?url=https%3A%2F%2Fstarry-lixu.oss-cn-hangzhou.aliyuncs.com%2Fimg%2F20220424101224.gif&sign=ee4852ae49b4cfe6e5cba602cfb9c48fdcdc0d8e3405a52982206497575c6ac7)

### ğŸŒ¼æ·»åŠ Fragmentï¼ˆæ˜¾ç¤ºä¸éšè—ï¼‰

`repalce()æ–¹æ³•`æ˜¯å°†å·²æ·»åŠ çš„`fragment`å…¨éƒ¨éƒ½åˆ é™¤æ‰ï¼Œç„¶åå†åŠ è½½å½“å‰çš„`fragment`ï¼Œé¢‘ç¹çš„è·³è½¬éœ€è¦ä¸æ–­çš„åˆ æ‰ä¹‹å‰çš„`fragment`ï¼Œå†åŠ è½½å½“å‰çš„`fragment`ï¼Œå¥½åƒæœ‰äº›éº»çƒ¦ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§å°†æ‰€æœ‰`fragment`éƒ½æ·»åŠ è¿›æ¥ï¼Œç„¶åæ§åˆ¶å®ƒä»¬çš„æ˜¾ç¤ºä¹Ÿéšè—

`MainActivity`å…³é”®ä»£ç 

```java

public class MainActivity extends AppCompatActivity {

    BlankFragment1 blankFragment1=new BlankFragment1();
    BlankFragment2 blankFragment2=new BlankFragment2();
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

//        ä¸€æ¬¡æ€§æ·»åŠ 
        getSupportFragmentManager().beginTransaction()
                .add(R.id.constraintLayout,blankFragment1)
                .add(R.id.constraintLayout,blankFragment2)
                .commit();
        
        findViewById(R.id.button).setOnClickListener(
                (view)->{
//                    æ˜¾ç¤ºfragment1,éšè—fragment2
                    getSupportFragmentManager().beginTransaction()
                            .hide(blankFragment2)
                            .show(blankFragment1)
                            .commit();
                }
        );
        findViewById(R.id.button2).setOnClickListener(
                (view)->{
//                    æ˜¾ç¤ºfragment2,éšè—fragment1
                    getSupportFragmentManager().beginTransaction()
                            .hide(blankFragment1)
                            .show(blankFragment2)
                            .commit();
                }
        );
    }
}
```

è€å¸ˆç‰¹æ„ä»‹ç»äº†è¿™ç§æ–¹æ³•ï¼Œæ„Ÿè§‰æœ‰ç‚¹éº»çƒ¦ï¼Œè€Œä¸”ä¸€èµ·æ·»åŠ æ‰€æœ‰çš„`fragment`ï¼Œæ•°é‡å¤šäº†åº”è¯¥ä¹Ÿä¼šå½±å“æ€§èƒ½ï¼Œå¯èƒ½è€å¸ˆçš„æœ¬æ„æ˜¯æƒ³å‘Šè¯‰æˆ‘ä»¬å¯¹äºç”¨æˆ·é¢‘ç¹æ‰€æœ‰çš„å‡ ä¸ª`fragment`å¯ä»¥æå‰addï¼Œç„¶ååªéœ€æ§åˆ¶æ˜¾ç¤ºéšè—ï¼Œå°±ä¸è¦é‡å¤åŠ è½½äº†

### ğŸ¥€Fragment å®šä¹‰å’Œç®¡ç†è‡ªå·±çš„å¸ƒå±€

`Fragment` å®šä¹‰å’Œç®¡ç†è‡ªå·±çš„å¸ƒå±€ï¼Œå…·æœ‰è‡ªå·±çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶ä¸”å¯ä»¥å¤„ç†è‡ªå·±çš„è¾“å…¥äº‹ä»¶

å®šä¹‰å’Œç®¡ç†è‡ªå·±çš„å¸ƒå±€è¿™ä¸ªå¥½è¯´å‰é¢å·²ç»å±•ç¤ºäº†ï¼Œ`Activity`çš„å¸ƒå±€æ€ä¹ˆç”¨ï¼Œ`Fragment`çš„å¸ƒå±€å°±æ€ä¹ˆç”¨

é‚£ä¹ˆ`Fragment` å¦‚ä½•è·å–ç»„ä»¶ï¼Œå¤„ç†è¾“å…¥äº‹ä»¶å‘¢ï¼Ÿä¹Ÿæ˜¯`findViewById()`å—ï¼Ÿ

#### æ–¹æ³•ä¸€ï¼šonCreateView()

`onCreateView()`æ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªViewå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿæ˜¯é€šè¿‡è¿™ä¸ªviewå¯¹è±¡å–è·å–åˆ°`fragment`çš„ç»„ä»¶å¹¶è®¾ç½®å…¶å€¼

```java
public class BlankFragment1 extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // Inflate the layout for this fragment
        View view=inflater.inflate(R.layout.fragment_blank1, container, false);
        TextView textView=view.findViewById(R.id.textView);
        textView.setText("æ¹–å—ä¸­åŒ»è¯å¤§å­¦ï¼");
        textView.setTextColor(getResources().getColor(R.color.purple_200));
        return view;
    }
}
```

ç‚¹å‡»æŒ‰é’®`Fragment1`ï¼Œå¯ä»¥çœ‹åˆ°è·³è½¬å‡ºçš„ç•Œé¢ä¸Šçš„æ–‡å­—å·²ç»æ˜¯åˆšåˆšæ–°è®¾ç½®çš„å€¼äº†

![](https://starry-lixu.oss-cn-hangzhou.aliyuncs.com/img/20220424104721.png#id=IOY4H&originHeight=960&originWidth=540&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

#### æ–¹æ³•äºŒï¼šé‡å†™onActivityCreated()

æ–¹æ³•äºŒéœ€è¦é‡å†™`onActivityCreated()`ï¼Œè¿™é‡Œæˆ‘å®ç°ç›‘å¬æ–‡æœ¬ç»„ä»¶ï¼Œç”¨æˆ·ç‚¹å‡»æ–‡æœ¬ç»„ä»¶å°±å¯ä»¥æ›´æ–°ä¸Šé¢çš„å†…å®¹

```java

public class BlankFragment1 extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // æ–¹æ³•ä¸€
        View view=inflater.inflate(R.layout.fragment_blank1, container, false);
//        TextView textView=view.findViewById(R.id.textView);
//        textView.setText("æ¹–å—ä¸­åŒ»è¯å¤§å­¦ï¼");
//        textView.setTextColor(getResources().getColor(R.color.purple_200));
        return view;
    }

    @Override
//    æ–¹æ³•äºŒ
    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
        TextView textView=getActivity().findViewById(R.id.textView);
        textView.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                textView.setText("æ–¹æ³•äºŒè®¾ç½®æ–‡æœ¬å†…å®¹");
            }
        });

    }
}
```

![](https://starry-lixu.oss-cn-hangzhou.aliyuncs.com/img/20220424105640.gif#id=tU9QA&originHeight=1030&originWidth=1916&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)

### ğŸŒ·Fragmentä¸Activityçš„ç»„ä»¶è·å–

åˆšåˆšè®²çš„éƒ½æ˜¯`Fragment`æ€ä¹ˆè·å–è‡ªå·±çš„å¸ƒå±€çš„ç»„ä»¶ï¼Œé‚£ä¹ˆæˆ‘æƒ³é€šè¿‡

`Fragment`è·å–åˆ°`Activity`çš„ç»„ä»¶å¹¶å®ç°ç›‘å¬ï¼Œæˆ–è€…`Activity`è·å–åˆ°`Fragment`çš„ç»„ä»¶å®ç°ç›‘å¬åˆè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ

#### Fragmentè·å–åˆ°Activityçš„ç»„ä»¶å¹¶å®ç°ç›‘å¬

è¿™ä¸ªå…¶å®å°±æ˜¯é‡å†™`onActivityCreated()`æ–¹æ³•ï¼Œä½¿ç”¨`getActivity().findViewById(R.id.button);`

```java


public class BlankFragment1 extends Fragment {

    @Override
    public View onCreateView(LayoutInflater inflater, ViewGroup container,
                             Bundle savedInstanceState) {
        // æ–¹æ³•ä¸€
        View view=inflater.inflate(R.layout.fragment_blank1, container, false);
//        TextView textView=view.findViewById(R.id.textView);
//        textView.setText("æ¹–å—ä¸­åŒ»è¯å¤§å­¦ï¼");
//        textView.setTextColor(getResources().getColor(R.color.purple_200));
        return view;
    }

    @Override
//  Fragmentè·å–åˆ°Activityçš„ç»„ä»¶å¹¶å®ç°ç›‘å¬
    public void onActivityCreated(@Nullable Bundle savedInstanceState) {
        super.onActivityCreated(savedInstanceState);
        Button button=getActivity().findViewById(R.id.button);
        button.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                button.setText("æˆåŠŸè·å–Activityç»„ä»¶");
            }
        });

    }
}
```
